socket_open("140.233.173.238", 30000)

def get_trajectory():
	poses=[]
	teach_mode()
	while (socket_read_string()==""):
		poses += get_actual_tcp_pose()
		sleep(0.5)
	end
	end_teach_mode()
	return poses
end

def move_trajectory(poses):
	n=poses.length()
	i=0
	while(i<n):
		movej(poses[i])
	end
end

traj=get_trajectory()
move_trajectory(traj)
popup("Done!")