
def listen():\nconnected = False\nwhile not connected:\nconnected = socket_open("140.223.162.184", 30000, "pos")\nend\npopup("Connected! Now listening")\nwhile True:\ninput = socket_read_line("pos")\nif input == "freedrive":\nfreedrive_mode()\npopup("Freedrive Mode Started")\nend\nif input == "end_freedrive":\nend_freedrive_mode()\npopup("Freedrive Mode Ended")\nend\nif input == "return_pose":\nCurPos = get_actual_tcp_pose()\nsocket_send_string(CurPos, "pos")\npopup("Pose Sent")\nend\nif input == "return_joint_positions":\nCurJoints = get_actual_joint_positions()\nsocket_send_string(CurJoints, "pos")\npopup("Joint Positions Sent")\nend\nend\nend\n